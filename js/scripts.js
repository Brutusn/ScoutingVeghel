function $I(b){return document.getElementById(b)}window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(b,1E3/60)}}();function removeClass(b){var c=document.getElementsByClassName(b),d;if(0!==c.length)if(1===c.length)c[0].classList.remove(b);else if(1<c.length)for(d=0;d<c.length;d++)c[d].classList.remove(b)}
function onScrollEvt(){var b=navElem.getBoundingClientRect(),c=groupElem.getBoundingClientRect();if(!menuClick)var d=stafElem.getBoundingClientRect(),e=actiElem.getBoundingClientRect(),a=contElem.getBoundingClientRect(),f=huurElem.getBoundingClientRect();0>=b.top&&c.top<=b.height?navElem.classList.add("nav-sticky-top"):navElem.classList.remove("nav-sticky-top");menuClick||(removeClass("menu-active"),b.height>=c.top&&b.height<c.bottom&&menu.children[0].classList.add("menu-active"),b.height>=d.top&&
b.height<d.bottom&&menu.children[1].classList.add("menu-active"),b.height>=e.top&&b.height<e.bottom&&menu.children[2].classList.add("menu-active"),b.height>=a.top&&b.height<a.bottom&&menu.children[3].classList.add("menu-active"),b.height>=f.top&&b.height<f.bottom&&menu.children[4].classList.add("menu-active"));scrolling=!1}function requestScroll(){scrolling||requestAnimFrame(onScrollEvt);scrolling=!0}
function setScroll(b){window.scrollTo?window.scrollTo(0,b):window.pageYOffset?window.pageYOffset=b:document.documentElement.scrollTop?document.documentElement.scrollTop=b:document.body.scrollTop&&(document.body.scrollTop=b)}
function scrollUp(b){function c(){if(50>h){var a=h;e=-f[0]*(a/=50)*(a-2)+d;var a=e,b=f[1]-1,c=f[1]+1;f[2]?a=a>=b&&a<=c:(a*=-1,a=a>=c&&a<=b);a?(setScroll(f[1]),menuClick=!1):(requestAnimFrame(l),h++)}}b=$I(b).offsetTop;var d,e,a=$I("navigatie").clientHeight,f=[],h=0,l=function(){setScroll(e);c()};d=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;d<b?(f[0]=b-a-d,f[1]=b-a,f[2]=!0):(f[0]=-1*(d-(b-a)),f[1]=-1*(b-a),f[2]=!1);c()}
var ajax={x:function(){if("undefined"!==typeof XMLHttpRequest)return new XMLHttpRequest;for(var b=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],c,d=0;d<b.length;d++)try{c=new ActiveXObject(b[d]);break}catch(e){}return c},send:function(b,c,d,e,a){var f=ajax.x();f.open(d,b,a);f.onreadystatechange=function(){4===f.readyState&&200===f.status?c(f.responseText):showError("Er is iets mis gegaan. (Status: "+f.status+")")};"POST"===d&&f.setRequestHeader("Content-type",
"application/x-www-form-urlencoded");f.send(e)},get:function(b,c,d){var e=[],a;for(a in c)e.push(encodeURIComponent(a)+"="+encodeURIComponent(c[a]));ajax.send(b+"?"+e.join("&"),d,"GET",null,!0)},post:function(b,c,d,e){var a=[],f;for(f in c)a.push(encodeURIComponent(f)+"="+encodeURIComponent(c[f]));ajax.send(b,d,"POST",a.join("&"),e)}};
function showError(b,c){var d="",d=$I("errorMsg")?$I("errorMsg"):document.createElement("div");d.className="error-message";d.id="errorMsg";d.innerHTML='<i class="fa fa-times-circle"></i> '+b;c?$I(c).appendChild(d):console.error(b)}function removeError(){if($I("errorMsg")){var b=$I("errorMsg");b.parentNode.removeChild(b)}}function showSuccess(b,c){showError("tmp",c);$I("errorMsg").innerHTML=b;$I("errorMsg").className="success-message"}
var navElem=$I("navigatie"),groupElem=$I("groepen"),stafElem=$I("staf"),actiElem=$I("activiteiten"),contElem=$I("contact"),huurElem=$I("verhuur"),scrollYpos=window.scrollY,scrolling=!1,menu=$I("menu-links"),menuClick=!1;window.onscroll=function(){scrollYpos=window.scrollY;requestScroll()};menu.onclick=function(b){var c=b.target.getAttribute("data-link");c&&(menuClick=!0,removeClass("menu-active"),b.target.classList.add("menu-active"),scrollUp(c))};
$I("contact-form").onsubmit=function(){for(var b={},c=/[^\s@]+@[^\s@]+\.[^\s@]+/,d=this.id,e=this.getElementsByClassName("inp"),a=0;a<e.length;a++)b[e[a].name]=e[a].value;b.whoTo||showError("Aan wie moet je vraag/opmerking verstuurd worden?",d);c.test(b.mailadr)||showError("Vul een geldig email adres in.",d);c.test(b.mailadr)&&""!==b.whoTo&&(removeError(),showSuccess("Aanmelding verstsuren...",d),ajax.post("../php/contact-form.php",b,function(a){$I(d).reset();showSuccess(a,d)}));return!1};
$I("hb-menu-btn-click").onclick=function(){$I("menu-links").classList.toggle("hb-menu-open");this.classList.toggle("hb-menu-btn-open")};
var hired=[],isBetweenDate=function(b,c){var d,e;if(b){for(var a=0;a<b.length;a++)if(d=Date.parse(b[a].dayFrom),e=Date.parse(b[a].dayTo),c<=e&&c>=d)return b[a].bySV?"datepickr-sv":"datepickr-other";return!1}},datepickr=function(b,c){var d,e,a=[],f;d=new Date;ajax.get("../php/Reservering.php",{m:d.getMonth()+1,y:d.getFullYear()},function(a){hired=JSON.parse(a)});datepickr.prototype=datepickr.init.prototype;e=function(a){a._datepickr&&a._datepickr.destroy();a._datepickr=new datepickr.init(a,c);return a._datepickr};
console.info(b);if(b.nodeName)return e(b);d=datepickr.prototype.querySelectorAll(b);if(1===d.length)return e(d[0]);for(f=0;f<d.length;f++)a.push(e(d[f]));return a};
datepickr.init=function(b,c){var d,e,a=this,f={dateFormat:"d - m - Y",altFormat:null,altInput:null,minDate:null,maxDate:null,shorthandCurrentMonth:!1,asCalender:!1},h=document.createElement("div"),l=document.createElement("span"),r=document.createElement("table"),t=document.createElement("tbody"),g,k=new Date,z,m,n,u,A,p,v,B,C,q,D,E,w,F,x,y,G;h.className="datepickr-calendar";l.className="datepickr-current-month";c=c||{};z=function(b){console.info("here");g=document.createElement("div");g.className=
"datepickr-wrapper";a.element.parentNode.insertBefore(g,a.element);b&&g.classList.add("open");g.appendChild(a.element)};d={year:function(){return k.getFullYear()},month:{integer:function(){return k.getMonth()},string:function(a){var b=k.getMonth();return n(b,a)}},day:function(){return k.getDate()}};e={string:function(){return n(a.currentMonthView,a.config.shorthandCurrentMonth)},numDays:function(){return 1===a.currentMonthView&&(0===a.currentYearView%4&&0!==a.currentYearView%100||0===a.currentYearView%
400)?29:a.l10n.daysInMonth[a.currentMonthView]}};m=function(b,d){var c="",f=new Date(d),e={d:function(){var a=e.j();return 10>a?"0"+a:a},D:function(){return a.l10n.weekdays.shorthand[e.w()]},j:function(){return f.getDate()},l:function(){return a.l10n.weekdays.longhand[e.w()]},w:function(){return f.getDay()},F:function(){return n(e.n()-1,!1)},m:function(){var a=e.n();return 10>a?"0"+a:a},M:function(){return n(e.n()-1,!0)},n:function(){return f.getMonth()+1},U:function(){return f.getTime()/1E3},y:function(){return String(e.Y()).substring(2)},
Y:function(){return f.getFullYear()}},g=b.split("");a.forEach(g,function(a,b){e[a]&&"\\"!==g[b-1]?c+=e[a]():"\\"!==a&&(c+=a)});return c};n=function(b,c){return!0===c?a.l10n.months.shorthand[b]:a.l10n.months.longhand[b]};u=function(b,c,d,e){return b===e&&a.currentMonthView===c&&a.currentYearView===d};A=function(){var b=document.createElement("thead"),c=a.l10n.firstDayOfWeek,d=a.l10n.weekdays.shorthand;0<c&&c<d.length&&(d=[].concat(d.splice(c,d.length),d.splice(0,c)));b.innerHTML="<tr><th>"+d.join("</th><th>")+
"</th></tr>";r.appendChild(b)};p=function(){var b=(new Date(a.currentYearView,a.currentMonthView,1)).getDay(),c=e.numDays(),f=document.createDocumentFragment(),g=document.createElement("tr"),h,l="",n="",k="",m,b=b-a.l10n.firstDayOfWeek;0>b&&(b+=7);h=b;t.innerHTML="";0<b&&(g.innerHTML+='<td colspan="'+b+'">&nbsp;</td>');for(b=1;b<=c;b++){7===h&&(f.appendChild(g),g=document.createElement("tr"),h=0);var p=isBetweenDate(hired,new Date(a.currentYearView,a.currentMonthView,b));if(p){var q;q="datepickr-sv"===
p?'title="Blokhut is vrij, er zijn wel groepen van Scouting Veghel"':'title="Blokhut is reeds verhuurd op deze datum"'}else q='title="Blokhut is vrij"';l=u(d.day(),d.month.integer(),d.year(),b)?" today":"";a.selectedDate&&(n=u(a.selectedDate.day,a.selectedDate.month,a.selectedDate.year,b)?" selected":"");if(a.config.minDate||a.config.maxDate)m=(new Date(a.currentYearView,a.currentMonthView,b)).getTime(),k="",a.config.minDate&&m<a.config.minDate&&(k=" disabled"),a.config.maxDate&&m>a.config.maxDate&&
(k=" disabled");g.innerHTML+="<td "+q+' class="'+p+l+n+k+'"><span class="datepickr-day">'+b+"</span></td>";h++}f.appendChild(g);t.appendChild(f)};v=function(){l.innerHTML=e.string()+" "+a.currentYearView};B=function(){var a=document.createElement("div");a.className="datepickr-months";a.innerHTML='<span class="datepickr-prev-month">&lt;</span><span class="datepickr-next-month">&gt;</span>';a.appendChild(l);v();h.appendChild(a)};C=function(){0>a.currentMonthView&&(a.currentYearView--,a.currentMonthView=
11);11<a.currentMonthView&&(a.currentYearView++,a.currentMonthView=0)};q=function(b){if(b.target!==a.element&&b.target!==g&&(b=b.target.parentNode,b!==g))for(;b!==g;)if(b=b.parentNode,null===b){y();break}};D=function(b){b=b.target;var c=b.className;c&&("datepickr-prev-month"===c||"datepickr-next-month"===c?("datepickr-prev-month"===c?a.currentMonthView--:a.currentMonthView++,C(),v(),p()):"datepickr-day"!==c||a.hasClass(b.parentNode,"disabled")||a.config.asCalender||(a.selectedDate={day:parseInt(b.innerHTML,
10),month:a.currentMonthView,year:a.currentYearView},b=(new Date(a.currentYearView,a.currentMonthView,a.selectedDate.day)).getTime(),a.config.altInput&&(a.config.altInput.value=a.config.altFormat?m(a.config.altFormat,b):m(a.config.dateFormat,b)),a.element.value=m(a.config.dateFormat,b),y(),p()))};E=function(){B();A();p();r.appendChild(t);h.appendChild(r);g.appendChild(h)};w=function(){return"INPUT"===a.element.nodeName?"focus":"click"};F=function(){a.config.asCalender||a.addEventListener(a.element,
w(),x,!1);a.addEventListener(h,"click",D,!1)};x=function(){a.config.asCalender||(a.addEventListener(document,"click",q,!1),a.addClass(g,"open"))};y=function(){a.config.asCalender||(a.removeEventListener(document,"click",q,!1),a.removeClass(g,"open"))};G=function(){var b,c;a.removeEventListener(document,"click",q,!1);a.removeEventListener(a.element,w(),x,!1);b=a.element.parentNode;b.removeChild(h);c=b.removeChild(a.element);b.parentNode.replaceChild(c,b)};(function(){var e,g;a.config={};a.destroy=
G;for(e in f)a.config[e]=c[e]||f[e];a.element=b;a.element.value&&(g=Date.parse(a.element.value));g&&!isNaN(g)?(g=new Date(g),a.selectedDate={day:g.getDate(),month:g.getMonth(),year:g.getFullYear()},a.currentYearView=a.selectedDate.year,a.currentMonthView=a.selectedDate.month,a.currentDayView=a.selectedDate.day):(a.selectedDate=null,a.currentYearView=d.year(),a.currentMonthView=d.month.integer(),a.currentDayView=d.day());z(a.config.asCalender);E();F()})();return a};
datepickr.init.prototype={hasClass:function(b,c){return b.classList.contains(c)},addClass:function(b,c){b.classList.add(c)},removeClass:function(b,c){b.classList.remove(c)},forEach:function(b,c){[].forEach.call(b,c)},querySelectorAll:document.querySelectorAll.bind(document),isArray:Array.isArray,addEventListener:function(b,c,d,e){b.addEventListener(c,d,e)},removeEventListener:function(b,c,d,e){b.removeEventListener(c,d,e)},l10n:{weekdays:{shorthand:"Zo Ma Di Wo Do Vr Za".split(" "),longhand:"Zondag Maandag Dinsdag Woensdag Donderdag Vrijdag Zaterdag".split(" ")},
months:{shorthand:"Jan Feb Mrt Apr Mei Jun Jul Aug Sep Okt Nov Dec".split(" "),longhand:"Januari Februari Maart April Mei Juni Juli Augustus September Oktober November December".split(" ")},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:1}};function processHired(b){hired=JSON.parse(b)}datepickr($I("mini-verhuur"),{asCalender:!0});
